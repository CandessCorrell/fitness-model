### Express Node.js API Server

Clone, install, start.
```
git clone https://github.com/private-pilot/fitness-model/
cd fitness-model/express-server
npm install
bash pm2-begin.sh
```

To stop
```
pm2 stop www
```

To tail the logs generated by the server
```
pm2 logs www
```

## Interacting with the API

### Routes

/answers
  - GET
  - POST (Triggers an INSERT into DB)
    - Must provide a "question_id", "description", "score" and "recommendation" to issue a POST to this route.
  - PUT (Triggers an UPDATE on existing answer)
    - Must provide a "question_id", "description", "score" and "recommendation" to issue a PUT to this route.

/assessments
  - GET

/categories
  - GET
  - POST
    - Must provide a "description" in the request body to issue a POST request to this route.

/fitness_card/:category_id
  - GET
    - Returns question_description, answer_description, category_description, recommendation, fitness_level based on category_id

/questions
  - GET
    - Must provide a "category" when issuing a GET request to this route.

/responses
  - GET
  - POST
    - Must provide a "question_id", "answer_id" and "result_id" in the request body to issue a POST request to this route.

/results
  - GET
  - POST
    - Must provide a "user_id" and "assessment_id" in the request body to issue a POST request to this route.

/results/user_id
  - GET
    - Returns all completed or in-progress "results" for a specific user.
    - Potential to be a user's home screen - displaying all of their previously completed assessments.

/scores/:assessment_id
  - Returns as many rows as there are categories for that result with two pieces of information: category_id and aggregated score

/users
  - GET
    - Returns all users
    - **NOTE** When we are ready, I will flesh this out to be able to return all users associated with a team, portfolio, etc.

/user-results
  - GET
    - Must provide a user_id to issue a GET request to this route.
    - *NOTE* I am working on a more RESTful version of this route so that it will be /user/:id

/weights/:result_id
  - GET
    - Returns all data from the weights table associated with the supplied result_id.
